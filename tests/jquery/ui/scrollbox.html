<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>QUnit</title>
	<script>function base(level){document.write("<base href=\""+location.href.replace(/\/[^\/]*$/,"/")+level+"\"/>")}</script>
	<script>
	base("../../../");

	var require = {
			baseUrl: "src"
		};
	</script>
	<link  href="external/qunit/qunit/qunit.css" rel="stylesheet"/>
	<link  href="src/style/jquery/ui/scrollbox.css" rel="stylesheet"/>
	<style>
	.ui-scrollbox-drag-x,
	.ui-scrollbox-drag-y {
		-webkit-border-radius: 5px;
		-khtml-border-radius: 5px;
		-moz-border-radius: 5px;
		-o-border-radius: 5px;
		border-radius: 5px;
	}
	.ui-scrollbox-light .ui-scrollbox-helper.ui-state-default {
		border-color: #ccc;
		background-color: #333;
		background-color: rgba(0,0,0,0.5);
	}
	.ui-scrollbox-light .ui-scrollbox-helper.ui-state-hover,
	.ui-scrollbox-light .ui-scrollbox-helper.ui-state-active, 
	.ui-scrollbox-light .ui-scrollbox-helper.ui-state-focus {
		background-color: #303030;
		background-color: rgba(0,0,0,0.8);
	}
	.ui-scrollbox-dark .ui-scrollbox-helper.ui-state-default {
		border-color: #666;
		background-color: #fff;
		background-color: rgba(255,255,255,0.5);
	}
	.ui-scrollbox-dark .ui-scrollbox-helper.ui-state-hover,
	.ui-scrollbox-dark .ui-scrollbox-helper.ui-state-active, 
	.ui-scrollbox-dark .ui-scrollbox-helper.ui-state-focus {
		background-color: #f0f0f0;
		background-color: rgba(255,255,255,0.8);
	}
	
	html, body {
		margin: 0;
	}
	.qunit-scrollbox {
		margin: 10px 0 0 0;
		padding: 20px;
		border: solid 1px black;
		border-radius: 12px;
		width: 278px;
		height: 300px;
		overflow: auto;
		background: green;
	}
	</style>
	<script src="external/qunit/qunit/qunit.js"></script>
	<script src="src/require.js"></script>
</head>
<body>
	<h1 id="qunit-header">QUnit</h1>
	<h2 id="qunit-banner"></h2>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">
		<div id="scrollbox" class="qunit-scrollbox">
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. <a href="#">Hyperlink</a> At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
		</div>
		<div id="scrollbox2" class="qunit-scrollbox">
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
			<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, <br />
			sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, <br />
			no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
			<p style="white-space: nowrap;">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </p>
			<p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
		</div>
	</div>
	<script>
	var moduleName = "jquery/ui/scrollbox";

	module(moduleName);

	asyncTest("require", function() {
		require([moduleName], function(mod){
			ok(true, moduleName + " loaded via require.");

			ok(!mod, moduleName + " has no module object.");

			start();
		});
	});

	asyncTest("$().scrollbox()", function() {

		require(["util/support", "jquery", moduleName], function (support, $) {

			var elem = $('#scrollbox')
					.scrollbox({
						lockAxis: true,
						horizontal: true,
						vertical: true
					}),
				node = elem[0];
			
			equal(
				elem.find('.ui-scrollbox-drag-x').length,
				1,
				"$('#scrollbox').find('.ui-scrollbox-drag-x').length"		
			);
			equal(
				elem.find('.ui-scrollbox-drag-y').length,
				1,
				"$('#scrollbox').find('.ui-scrollbox-drag-y').length"		
			);
			equal(
				elem.find('.ui-scrollbox-padding-x').length,
				1,
				"$('#scrollbox').find('.ui-scrollbox-padding-x').length"		
			);
			equal(
				elem.find('.ui-scrollbox-padding-y').length,
				1,
				"$('#scrollbox').find('.ui-scrollbox-padding-y').length"		
			);
			equal(
				elem.find('.ui-scrollbox-layer').length,
				1,
				"$('#scrollbox').find('.ui-scrollbox-layer').length"		
			);
			equal(
				elem.find('.ui-scrollbox-helper').length,
				5,
				"$('#scrollbox').find('.ui-scrollbox-helper').length"		
			);
				
			equal(
				$.type( $._data(node).events.touchdrag ),
				support.touchEvent ? 'array' : 'undefined',
				"$.type( $._data(node).events.touchdrag ) == (support.touchEvent ? 'array' : 'undefined')"		
			);
			equal(
				$.type( $._data(node).events.mousewheel ),
				!support.touchEvent ? 'array' : 'undefined',
				"$.type( $._data(node).events.mousewheel ) == (!support.touchEvent ? 'array' : 'undefined')"		
			);
			equal(
				$.type( $._data(elem.find('.ui-scrollbox-drag-x')[0]).events.mousedrag ),
				'array',
				"$.type( $._data(elem.find('.ui-scrollbox-drag-x')[0]).events.mousedrag ) == 'array'"		
			);
			equal(
				$.type( $._data(elem.find('.ui-scrollbox-drag-y')[0]).events.mousedrag ),
				'array',
				"$.type( $._data(elem.find('.ui-scrollbox-drag-y')[0]).events.mousedrag ) == 'array'"		
			);
			
			equal(
				elem.find('.ui-scrollbox-padding-x').height(),
				20,
				"$('#scrollbox').find('.ui-scrollbox-padding-x').height()"		
			);
			
			equal(
				elem.find('.ui-scrollbox-padding-y').width(),
				20,
				"$('#scrollbox').find('.ui-scrollbox-padding-y').width()"		
			);


			start();
		});

	});
	</script>
</body>
</html>